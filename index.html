<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loading and Parsing CSV data</title>
    <script src="https://unpkg.com/d3@7.0.0/dist/d3.min.js"></script>
    <style>
        pre {
            font-size: 7em;
        }
    </style>
</head>
<body>
    <pre id="message-container" />
    <script>
        const url = "https://gist.githubusercontent.com/curran/b236990081a24761f7000567094914e0/raw/cssNamedColors.csv";

        d3.csv(url).then(data => {
            let message = '';
            message += Math.round(d3.csvFormat(data).length / 1024) + ' KB\n'
            message += data.length + ' rows\n'
            message += data.columns.length + ' columns\n'

            document.getElementById("message-container").textContent = message;
        })

        // Doing with fetch, async and await
        // const fetchText = async (url) => {
        //     const response = await fetch(url);
        //     const text = await response.text()
        //     return text
        // }
        // fetchText(url).then(text => {
        //     const data = d3.csvParse(text)
        //     let message = '';
        //     message += Math.round(text.length / 1024) + ' KB\n'
        //     message += data.length + ' rows\n'
        //     message += data.columns.length + ' columns\n'
        //
        //     document.getElementById("message-container").textContent = message;
        // })

    </script>

</body>
</html>